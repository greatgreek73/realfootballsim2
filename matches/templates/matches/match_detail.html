{% extends 'core/base.html' %}
{% load static %}

{% block content %}
<div class="container mt-4"> {# –î–æ–±–∞–≤–ª–µ–Ω –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É #}
    <div class="row">
        <div class="col-12">

            <!-- 1) MATCH CENTER -->
            <div class="card mb-4 shadow-sm" {# –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ–Ω–∏ –¥–ª—è –∫—Ä–∞—Å–æ—Ç—ã #}
                 id="matchInfoArea"
                 data-match-id="{{ match.id }}"
                 data-match-status="{{ match.status }}"
                 data-minute-seconds="{{ match_minute_seconds }}">
                <div class="card-header bg-light"> {# –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞ #}
                    <div class="d-flex justify-content-between align-items-center flex-wrap"> {# flex-wrap –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö #}
                        <h2 class="h4 mb-0 me-3"> {# –£–º–µ–Ω—å—à–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ #}
                            <a href="{% url 'clubs:club_detail' match.home_team.id %}" class="text-decoration-none text-dark">{{ match.home_team.name }}</a>
                            vs
                            <a href="{% url 'clubs:club_detail' match.away_team.id %}" class="text-decoration-none text-dark">{{ match.away_team.name }}</a>
                        </h2>
                        <div class="text-muted small"> {# –£–º–µ–Ω—å—à–µ–Ω —à—Ä–∏—Ñ—Ç –¥–∞—Ç—ã #}
                            {{ match.datetime|date:"d M Y H:i" }}
                        </div>
                    </div>
                    <div class="text-muted small mt-1"> {# –£–º–µ–Ω—å—à–µ–Ω —à—Ä–∏—Ñ—Ç –∏ –¥–æ–±–∞–≤–ª–µ–Ω –æ—Ç—Å—Ç—É–ø #}
                        {% if match.championshipmatch_set.first.championship.league %} {# –ë–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∏—Ç—å –ª–∏–≥—É #}
                            {{ match.championshipmatch_set.first.championship.league.name }}
                        {% endif %}
                        {% with match.championshipmatch_set.first as cm %}
                            {% if cm and cm.round %}
                                - Round {{ cm.round }}
                            {% endif %}
                        {% endwith %}
                        ¬†|¬†
                        Status: <span id="matchStatusDisplay">{{ match.get_status_display }}</span> {# ID –¥–ª—è –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ #}
                    </div>
                </div>

                <div class="card-body">
                    <!-- –í–µ—Ä—Ö–Ω—è—è —á–∞—Å—Ç—å: –Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥ –∏ —Å—á—ë—Ç -->
                    <div class="text-center mb-4">
                        <div class="row align-items-center">
                            <div class="col-5"> {# –ò—Å–ø–æ–ª—å–∑—É–µ–º col-5 –¥–ª—è —Å–∏–º–º–µ—Ç—Ä–∏–∏ #}
                                <a href="{% url 'clubs:club_detail' match.home_team.id %}" class="text-decoration-none">
                                    <h4 class="h5 mb-1">{{ match.home_team.name }}</h4> {# –£–º–µ–Ω—å—à–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ #}
                                    {% if match.home_team.is_bot %}
                                        <span class="badge bg-secondary">Bot</span> {# –ë–µ–π–¥–∂ –¥–ª—è –±–æ—Ç–∞ #}
                                    {% endif %}
                                </a>
                            </div>

                            <div class="col-2">
                                <!-- –°—á—ë—Ç -->
                                <h3 class="score mb-0" id="score">
                                    <span class="score-box home-score">{{ match.home_score }}</span> {# –ò—Å–ø–æ–ª—å–∑—É–µ–º span –∏ –∫–ª–∞—Å—Å #}
                                    <span class="score-separator">-</span>
                                    <span class="score-box away-score">{{ match.away_score }}</span> {# –ò—Å–ø–æ–ª—å–∑—É–µ–º span –∏ –∫–ª–∞—Å—Å #}
                                </h3>
                                <!-- –ú–∏–Ω—É—Ç—ã -->
                                <div class="match-time small text-muted mt-1" id="matchTime"> {# –ö–ª–∞—Å—Å –∏ –æ—Ç—Å—Ç—É–ø #}
                                    {% if match.status == 'in_progress' %}
                                        {{ match.current_minute }}'
                                    {% elif match.status == 'finished' %}
                                        FT {# Full Time #}
                                    {% else %}
                                        0'
                                    {% endif %}
                                </div>
                                <button id="continueMinute" class="btn btn-sm btn-primary mt-2" style="display:none;" type="button">Continue</button>
                                <button id="nextMinuteBtn" class="btn btn-sm btn-success mt-2" style="display:none;" type="button">Next Minute</button>
                            </div>

                            <div class="col-5"> {# –ò—Å–ø–æ–ª—å–∑—É–µ–º col-5 –¥–ª—è —Å–∏–º–º–µ—Ç—Ä–∏–∏ #}
                                <a href="{% url 'clubs:club_detail' match.away_team.id %}" class="text-decoration-none">
                                    <h4 class="h5 mb-1">{{ match.away_team.name }}</h4> {# –£–º–µ–Ω—å—à–µ–Ω –∑–∞–≥–æ–ª–æ–≤–æ–∫ #}
                                    {% if match.away_team.is_bot %}
                                         <span class="badge bg-secondary">Bot</span> {# –ë–µ–π–¥–∂ –¥–ª—è –±–æ—Ç–∞ #}
                                    {% endif %}
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∞ Replay, –µ—Å–ª–∏ –º–∞—Ç—á –∑–∞–≤–µ—Ä—à—ë–Ω -->
                    {% if match.status == 'finished' %}
                    <div class="text-center mb-3"> {# –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É #}
                        <button id="startReplayBtn" class="btn btn-sm btn-outline-primary"> {# –£–º–µ–Ω—å—à–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ #}
                            <i class="fas fa-play me-1"></i> Watch Replay {# –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–∫–æ–Ω–∫–∞ (—Ç—Ä–µ–±—É–µ—Ç Font Awesome) #}
                        </button>
                    </div>
                    {% endif %}
                </div>
            </div>

            <!-- 2) –û–ë–õ–ê–°–¢–¨ –°–û–ë–´–¢–ò–ô –ò –°–¢–ê–¢–ò–°–¢–ò–ö–ò -->
            <div class="card mb-4 shadow-sm">
                <div class="card-header bg-light">
                     <h3 class="h5 mb-0">Match Log & Stats</h3>
                </div>
                 <div class="card-body">
                    <div class="row">
                        <!-- –õ–æ–≥ —Å–æ–±—ã—Ç–∏–π (–õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞) -->
                        <div class="col-md-7 mb-3 mb-md-0"> {# –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –ª–æ–≥–∞ #}
                            <h4 class="h6 mb-3">Events</h4>
                            <div id="originalEvents" class="event-log"> {# –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –ª–æ–≥–∞ #}
                                <div class="list-group events-box"> {# –°—é–¥–∞ JS –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è #}
                                    {% if match.status != 'in_progress' %}
                                        {# –í—ã–≤–æ–¥–∏–º —Å–æ–±—ã—Ç–∏—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –º–∞—Ç—á–µ–π #}
                                        {% for event in match_events %}
                                        <div class="list-group-item">
                                            {# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π (–º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç) #}
                                            <strong>{{ event.minute }}'</strong>
                                            {% if event.event_type == 'goal' %}‚öΩ{% elif event.event_type == 'counterattack' %}‚ö°{% elif event.event_type == 'interception' %}üîÑ{% elif event.event_type == 'shot_miss' %}‚ùå{% elif event.event_type == 'pass' %}‚û°Ô∏è{% elif event.event_type == 'foul' %}‚ö†Ô∏è{% elif event.event_type == 'injury_concern' %}‚úö{% else %} M {% endif %}
                                            {{ event.description }}
                                            {# –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–≤ #}
                                            {% if event.player %}
                                            <small class="text-muted">({{ event.player.last_name }}{% if event.related_player %} -> {{ event.related_player.last_name }}{% endif %})</small>
                                            {% endif %}
                                        </div>
                                        {% empty %}
                                         <div class="list-group-item text-muted">No events found for this match yet.</div> {# –ò–∑–º–µ–Ω–µ–Ω —Ç–µ–∫—Å—Ç #}
                                        {% endfor %}
                                    {% else %}
                                        {# –î–ª—è live-–º–∞—Ç—á–µ–π —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏–¥—É—Ç —á–µ—Ä–µ–∑ WebSocket #}
                                        <div class="list-group-item text-muted">Waiting for match events...</div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>

                        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞) -->
                        <div class="col-md-5">
                             <h4 class="h6 mb-3">Statistics</h4>
                            <div id="matchStatistics" class="mb-4">
                                <div class="list-group stat-box">
                                    {# –ù–∞—á–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ #}
                                    <div class="list-group-item d-flex justify-content-between align-items-center">
                                        <span>Passes</span>
                                        <span class="badge bg-primary rounded-pill stat-passes">{{ match.st_passes|default:0 }}</span> {# –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å #}
                                    </div>
                                     <div class="list-group-item d-flex justify-content-between align-items-center">
                                        <span>Shoots</span>
                                        <span class="badge bg-info rounded-pill stat-shoots">{{ match.st_shoots|default:0 }}</span> {# –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å #}
                                    </div>
                                     <div class="list-group-item d-flex justify-content-between align-items-center">
                                        <span>Possessions</span>
                                        <span class="badge bg-secondary rounded-pill stat-possessions">{{ match.st_possessions|default:0 }}</span> {# –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å #}
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center">
                                        <span>Fouls</span>
                                        <span class="badge bg-warning text-dark rounded-pill stat-fouls">{{ match.st_fouls|default:0 }}</span> {# –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å #}
                                    </div>
                                    <div class="list-group-item d-flex justify-content-between align-items-center">
                                        <span>Injuries</span>
                                        <span class="badge bg-danger rounded-pill stat-injuries" id="inj">{{ match.st_injury|default:0 }}</span> {# –î–æ–±–∞–≤–ª–µ–Ω –∫–ª–∞—Å—Å #}
                                    </div>
                                </div>
                            </div>
                             <!-- –§–æ—Ä–º–∞ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Ç—Ä–∞–≤–º—É (—Å–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                             <div id="matchUserAction-inj" class="matchUserAction card bg-light p-3" style="display: none;"> {# –°—Ç–∏–ª–∏–∑–æ–≤–∞–Ω–æ –∫–∞–∫ –∫–∞—Ä—Ç–æ—á–∫–∞ #}
                                <h5 class="h6 mb-2 text-danger">Injury Detected!</h5>
                                <p class="small mb-2">Select player to substitute:</p> {# –£—Ç–æ—á–Ω–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ #}
                                <div class="mb-2">
                                    {# –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤ –∫–æ–º–∞–Ω–¥—ã –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ) #}
                                    {# –ü–†–ï–î–ü–û–õ–û–ñ–ï–ù–ò–ï: user_club –∏ user_players –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç #}
                                    <select name="playerToReplace" id="playerToReplaceSelect" class="form-select form-select-sm">
                                        <option value="">-- Select Player --</option>
                                        {% with user_club_id=request.user.club.id|default:None %}
                                            {% if match.home_team_id == user_club_id and match.home_lineup %}
                                                {% for slot, p_data in match.home_lineup.items %}
                                                    {% if p_data.playerId %}
                                                        <option value="{{ p_data.playerId }}">
                                                            {{ p_data.slotLabel }}: {{ p_data.playerName|default:p_data.playerId }} {# –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–º—è, –µ—Å–ª–∏ –µ—Å—Ç—å #}
                                                        </option>
                                                    {% endif %}
                                                {% endfor %}
                                            {% elif match.away_team_id == user_club_id and match.away_lineup %}
                                                 {% for slot, p_data in match.away_lineup.items %}
                                                    {% if p_data.playerId %}
                                                        <option value="{{ p_data.playerId }}">
                                                            {{ p_data.slotLabel }}: {{ p_data.playerName|default:p_data.playerId }}
                                                        </option>
                                                    {% endif %}
                                                {% endfor %}
                                            {% endif %}
                                        {% endwith %}
                                    </select>
                                </div>
                                <div class="text-end">
                                    <button type="button" class="btn btn-sm btn-danger" id="replace-player">Replace</button> {# –ö–Ω–æ–ø–∫–∞ –∑–∞–º–µ–Ω—ã #}
                                    <button type="button" class="btn btn-sm btn-secondary ms-1" onclick="this.closest('.matchUserAction').style.display='none'">Ignore</button> {# –ö–Ω–æ–ø–∫–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è #}
                                </div>
                             </div>
                        </div>

                    </div>
                </div>
            </div>


            <!-- 3) –°–û–°–¢–ê–í–´ –ú–ê–¢–ß–ê (–µ—Å–ª–∏ –º–∞—Ç—á –∏–¥–µ—Ç –∏–ª–∏ –∑–∞–≤–µ—Ä—à–µ–Ω) -->
            {% if match.status == 'in_progress' or match.status == 'finished' %}
            <div class="card mb-4 shadow-sm">
                <div class="card-header bg-light">
                    <h3 class="h5 mb-0">Lineups Used in This Match</h3>
                </div>
                <div class="card-body">
                    <div class="row">
                        <!-- –î–æ–º–∞—à–Ω—è—è –∫–æ–º–∞–Ω–¥–∞ -->
                        <div class="col-md-6 mb-4">
                            <h6 class="mb-2">{{ match.home_team.name }} <small class="text-muted">({{ match.home_tactic|default:'balanced' }})</small></h6>
                            <div class="table-responsive">
                                <table class="table table-sm table-striped table-hover"> {# –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª–∞—Å—Å—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã #}
                                    <thead>
                                        <tr>
                                            <th style="width: 20%;">Slot</th>
                                            <th>Player</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% if home_lineup_list %}
                                            {% for slot, player in home_lineup_list %}
                                            <tr>
                                                <td>Slot {{ slot }}</td>
                                                <td>
                                                    {% if player %}
                                                        {{ player.first_name }} {{ player.last_name }}
                                                        <small class="text-muted">({{ player.position }})</small>
                                                    {% else %}
                                                        <em class="text-danger">No player</em> {# –í—ã–¥–µ–ª—è–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–≥—Ä–æ–∫–∞ #}
                                                    {% endif %}
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        {% else %}
                                            <tr>
                                                <td colspan="2" class="text-center text-muted"><em>No lineup data available</em></td>
                                            </tr>
                                        {% endif %}
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- –ì–æ—Å—Ç–µ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞ -->
                        <div class="col-md-6 mb-4">
                             <h6 class="mb-2">{{ match.away_team.name }} <small class="text-muted">({{ match.away_tactic|default:'balanced' }})</small></h6>
                            <div class="table-responsive">
                                <table class="table table-sm table-striped table-hover"> {# –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–ª–∞—Å—Å—ã –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã #}
                                    <thead>
                                        <tr>
                                            <th style="width: 20%;">Slot</th>
                                            <th>Player</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        {% if away_lineup_list %}
                                            {% for slot, player in away_lineup_list %}
                                            <tr>
                                                <td>Slot {{ slot }}</td>
                                                <td>
                                                    {% if player %}
                                                        {{ player.first_name }} {{ player.last_name }}
                                                        <small class="text-muted">({{ player.position }})</small>
                                                    {% else %}
                                                         <em class="text-danger">No player</em> {# –í—ã–¥–µ–ª—è–µ–º –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∏–≥—Ä–æ–∫–∞ #}
                                                    {% endif %}
                                                </td>
                                            </tr>
                                            {% endfor %}
                                        {% else %}
                                             <tr>
                                                <td colspan="2" class="text-center text-muted"><em>No lineup data available</em></td>
                                            </tr>
                                        {% endif %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div><!-- /.row -->
                </div>
            </div>
            {% endif %} {# –ö–æ–Ω–µ—Ü –±–ª–æ–∫–∞ –¥–ª—è —Å–æ—Å—Ç–∞–≤–æ–≤ –º–∞—Ç—á–∞ #}

             <!-- –û–±–ª–∞—Å—Ç—å —Ä–µ–ø–ª–µ—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–∞) -->
             <div id="replayArea" style="display: none;">
                 {# –°—é–¥–∞ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–µ–ø–ª–µ–µ–º #}
             </div>

            <!-- –ö–Ω–æ–ø–∫–∞ "Back to Matches" -->
            <div class="text-center mb-5"> {# –£–≤–µ–ª–∏—á–µ–Ω –Ω–∏–∂–Ω–∏–π –æ—Ç—Å—Ç—É–ø #}
                <a href="{% url 'matches:match_list' %}" class="btn btn-outline-secondary"> {# –ò–∑–º–µ–Ω–µ–Ω —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏ #}
                    <i class="fas fa-arrow-left me-1"></i> Back to Matches {# –î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–∫–æ–Ω–∫–∞ (—Ç—Ä–µ–±—É–µ—Ç Font Awesome) #}
                </a>
            </div>

        </div><!-- /.col-12 -->
    </div><!-- /.row -->
</div><!-- /.container -->
{% endblock %}

{% block extra_js %}
{# –ü–æ–¥–∫–ª—é—á–∞–µ–º –≤–Ω–µ—à–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç—ã #}
<script src="{% static 'matches/js/match_replay.js' %}"></script> {# –ï—Å–ª–∏ –µ—Å—Ç—å —Å–∫—Ä–∏–ø—Ç —Ä–µ–ø–ª–µ—è #}
{% if match.status == 'in_progress' %}
    {# –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∫—Ä–∏–ø—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –º–∞—Ç—á –∏–¥–µ—Ç #}
    <script src="{% static 'matches/js/live_match.js' %}"></script>
{% endif %}
{% endblock %}


{% block extra_css %} {# –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫ –¥–ª—è —Å—Ç–∏–ª–µ–π #}
<style>
    .score-box {
        display: inline-block;
        padding: 0.3rem 0.8rem;
        background-color: #343a40; /* –¢–µ–º–Ω—ã–π —Ñ–æ–Ω */
        color: white;
        font-weight: bold;
        border-radius: 0.25rem;
        min-width: 40px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –¥–ª—è –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏—è */
        text-align: center;
    }
    .score-separator {
        margin: 0 0.5rem;
        font-weight: bold;
    }
    .match-time {
        font-size: 0.9em;
    }
    .event-log {
        height: 300px; /* –ó–∞–¥–∞–µ–º –≤—ã—Å–æ—Ç—É –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ */
        overflow-y: auto; /* –í–∫–ª—é—á–∞–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
        border: 1px solid #eee;
        border-radius: 0.25rem;
        padding: 0; /* –£–±–∏—Ä–∞–µ–º padding —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
    }
    .events-box .list-group-item {
        border: none; /* –£–±–∏—Ä–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—ã —É —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
        border-bottom: 1px dashed #eee; /* –î–æ–±–∞–≤–ª—è–µ–º –ø—É–Ω–∫—Ç–∏—Ä */
        padding: 0.5rem 0.75rem; /* –£–º–µ–Ω—å—à–∞–µ–º padding */
        font-size: 0.9em;
    }
     .events-box .list-group-item:last-child {
         border-bottom: none; /* –£–±–∏—Ä–∞–µ–º –≥—Ä–∞–Ω–∏—Ü—É —É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ */
     }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è */
    .new-event {
        opacity: 0;
        transform: translateY(-10px); /* –ù–∞—á–∏–Ω–∞–µ–º —á—É—Ç—å –≤—ã—à–µ */
        transition: opacity 0.4s ease-out, transform 0.4s ease-out;
    }
    .new-event-visible {
        opacity: 1;
        transform: translateY(0);
    }

    /* –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ */
    .stat-box .list-group-item {
        padding: 0.5rem 0.75rem;
        font-size: 0.9em;
         border: none;
         border-bottom: 1px solid #eee;
    }
    .stat-box .list-group-item:last-child {
         border-bottom: none;
     }

    /* –§–æ—Ä–º–∞ —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Ç—Ä–∞–≤–º—É */
    .matchUserAction {
        /* display: none; */ /* –°–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, JS –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å */
        /* position: fixed; */ /* –£–±—Ä–∞–ª–∏ fixed, –±—É–¥–µ—Ç –≤ –ø–æ—Ç–æ–∫–µ */
        /* width:50%; */ /* –£–±—Ä–∞–ª–∏ —Ñ–∏–∫—Å. —à–∏—Ä–∏–Ω—É */
        /* height: 300px; */ /* –£–±—Ä–∞–ª–∏ —Ñ–∏–∫—Å. –≤—ã—Å–æ—Ç—É */
        /* background-color: silver; */ /* –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–∏–ª–∏ card */
        /* z-index:9; */
        /* padding:12px; */
        border: 1px solid #dc3545; /* –ö—Ä–∞—Å–Ω–∞—è —Ä–∞–º–∫–∞ */
        border-radius: 0.25rem;
    }
    .display-action { /* –ö–ª–∞—Å—Å –¥–ª—è –ø–æ–∫–∞–∑–∞ —Ñ–æ—Ä–º—ã */
        display: block !important; /* –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫—Ä—ã—Ç—å style="display: none;" */
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã —Å–æ—Å—Ç–∞–≤–æ–≤ */
    .table-sm th, .table-sm td {
        padding: 0.4rem;
        font-size: 0.9em;
    }
</style>

{# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Font Awesome (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–ª—è –∏–∫–æ–Ω–æ–∫) - –¥–æ–±–∞–≤—å—Ç–µ –≤ base.html #}
{# <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"> #}

{% endblock %}
